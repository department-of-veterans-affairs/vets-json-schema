{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "GI BILL SCHOOL FEEDBACK TOOL",
  "type": "object",
  "additionalProperties": false,
  "definitions": {
    "date": {
      "pattern": "^(\\d{4}|XXXX)-(0[1-9]|1[0-2]|XX)-(0[1-9]|[1-2][0-9]|3[0-1]|XX)$",
      "type": "string"
    },
    "privacyAgreementAccepted": {
      "type": "boolean",
      "enum": [
        true
      ]
    },
    "usaPhone": {
      "type": "string",
      "pattern": "^\\d{10}$"
    },
    "dateRange": {
      "type": "object",
      "properties": {
        "from": {
          "$ref": "#/definitions/date"
        },
        "to": {
          "$ref": "#/definitions/date"
        }
      }
    }
  },
  "required": [
    "onBehalfOf",
    "educationDetails",
    "issue",
    "issueDescription",
    "issueResolution"
  ],
  "properties": {
    "address": {
      "type": "object",
      "required": [
        "street",
        "city",
        "state",
        "country",
        "postalCode"
      ],
      "properties": {
        "street": {
          "type": "string",
          "minLength": 1,
          "maxLength": 499
        },
        "street2": {
          "type": "string",
          "minLength": 1,
          "maxLength": 499
        },
        "city": {
          "type": "string",
          "minLength": 1,
          "maxLength": 25
        },
        "state": {
          "type": "string",
          "enum": [
            "AL",
            "AK",
            "AZ",
            "AR",
            "CA",
            "CO",
            "CT",
            "DE",
            "DC",
            "FL",
            "GA",
            "HI",
            "ID",
            "IL",
            "IN",
            "IA",
            "KS",
            "KY",
            "LA",
            "ME",
            "MD",
            "MA",
            "MI",
            "MN",
            "MS",
            "MO",
            "MT",
            "NE",
            "NV",
            "NH",
            "NJ",
            "NM",
            "NY",
            "NC",
            "ND",
            "OH",
            "OK",
            "OR",
            "PA",
            "RI",
            "SC",
            "SD",
            "TN",
            "TX",
            "UT",
            "VT",
            "VA",
            "WA",
            "WV",
            "WI",
            "WY"
          ],
          "enumNames": [
            "Alabama",
            "Alaska",
            "Arizona",
            "Arkansas",
            "California",
            "Colorado",
            "Connecticut",
            "Delaware",
            "District Of Columbia",
            "Florida",
            "Georgia",
            "Hawaii",
            "Idaho",
            "Illinois",
            "Indiana",
            "Iowa",
            "Kansas",
            "Kentucky",
            "Louisiana",
            "Maine",
            "Maryland",
            "Massachusetts",
            "Michigan",
            "Minnesota",
            "Mississippi",
            "Missouri",
            "Montana",
            "Nebraska",
            "Nevada",
            "New Hampshire",
            "New Jersey",
            "New Mexico",
            "New York",
            "North Carolina",
            "North Dakota",
            "Ohio",
            "Oklahoma",
            "Oregon",
            "Pennsylvania",
            "Rhode Island",
            "South Carolina",
            "South Dakota",
            "Tennessee",
            "Texas",
            "Utah",
            "Vermont",
            "Virginia",
            "Washington",
            "West Virginia",
            "Wisconsin",
            "Wyoming"
          ]
        },
        "postalCode": {
          "type": "string",
          "pattern": "^\\d{5}$"
        },
        "country": {
          "type": "string",
          "enum": [
            "US"
          ],
          "enumNames": [
            "United States"
          ],
          "default": "US"
        }
      }
    },
    "onBehalfOf": {
      "type": "string",
      "enum": [
        "Myself",
        "Someone else",
        "Anonymous"
      ]
    },
    "serviceBranch": {
      "type": "string",
      "enum": [
        "Army",
        "Navy",
        "Marines",
        "Air Force",
        "Coast Guard",
        "NOAA/PHS"
      ]
    },
    "serviceAffiliation": {
      "type": "string",
      "enum": [
        "Servicemember",
        "Veteran",
        "Spouse",
        "Child",
        "Other"
      ]
    },
    "fullName": {
      "properties": {
        "middle": {
          "type": "string",
          "minLength": 1,
          "maxLength": 30
        },
        "prefix": {
          "type": "string",
          "enum": [
            "Mr.",
            "Mrs.",
            "Ms.",
            "Dr.",
            "Other"
          ]
        },
        "first": {
          "type": "string",
          "minLength": 1,
          "maxLength": 30
        },
        "last": {
          "type": "string",
          "minLength": 1,
          "maxLength": 30
        },
        "suffix": {
          "type": "string",
          "enum": [
            "Jr.",
            "III",
            "IV",
            "Sr.",
            "Other"
          ]
        }
      },
      "type": "object",
      "required": [
        "first",
        "last"
      ]
    },
    "anonymousEmail": {
      "type": "string",
      "format": "email"
    },
    "applicantEmail": {
      "type": "string",
      "format": "email"
    },
    "educationDetails": {
      "type": "object",
      "required": [
        "school",
        "programs"
      ],
      "school": {
        "type": "object",
        "oneOf": [
          {
            "schoolInformation": {
              "type": "object",
              "required": [
                "address",
                "name"
              ],
              "properties": {
                "address": {
                  "type": "object",
                  "required": [
                    "street",
                    "city",
                    "state",
                    "country",
                    "postalCode"
                  ],
                  "properties": {
                    "street": {
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 126
                    },
                    "street2": {
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 126
                    },
                    "city": {
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 255
                    },
                    "state": {
                      "type": "string",
                      "enum": [
                        "AL",
                        "AK",
                        "AZ",
                        "AR",
                        "CA",
                        "CO",
                        "CT",
                        "DE",
                        "DC",
                        "FL",
                        "GA",
                        "HI",
                        "ID",
                        "IL",
                        "IN",
                        "IA",
                        "KS",
                        "KY",
                        "LA",
                        "ME",
                        "MD",
                        "MA",
                        "MI",
                        "MN",
                        "MS",
                        "MO",
                        "MT",
                        "NE",
                        "NV",
                        "NH",
                        "NJ",
                        "NM",
                        "NY",
                        "NC",
                        "ND",
                        "OH",
                        "OK",
                        "OR",
                        "PA",
                        "RI",
                        "SC",
                        "SD",
                        "TN",
                        "TX",
                        "UT",
                        "VT",
                        "VA",
                        "WA",
                        "WV",
                        "WI",
                        "WY"
                      ],
                      "enumNames": [
                        "Alabama",
                        "Alaska",
                        "Arizona",
                        "Arkansas",
                        "California",
                        "Colorado",
                        "Connecticut",
                        "Delaware",
                        "District Of Columbia",
                        "Florida",
                        "Georgia",
                        "Hawaii",
                        "Idaho",
                        "Illinois",
                        "Indiana",
                        "Iowa",
                        "Kansas",
                        "Kentucky",
                        "Louisiana",
                        "Maine",
                        "Maryland",
                        "Massachusetts",
                        "Michigan",
                        "Minnesota",
                        "Mississippi",
                        "Missouri",
                        "Montana",
                        "Nebraska",
                        "Nevada",
                        "New Hampshire",
                        "New Jersey",
                        "New Mexico",
                        "New York",
                        "North Carolina",
                        "North Dakota",
                        "Ohio",
                        "Oklahoma",
                        "Oregon",
                        "Pennsylvania",
                        "Rhode Island",
                        "South Carolina",
                        "South Dakota",
                        "Tennessee",
                        "Texas",
                        "Utah",
                        "Vermont",
                        "Virginia",
                        "Washington",
                        "West Virginia",
                        "Wisconsin",
                        "Wyoming"
                      ]
                    },
                    "postalCode": {
                      "type": "string",
                      "pattern": "^\\d{5}$"
                    },
                    "country": {
                      "type": "string",
                      "enum": [
                        "US"
                      ],
                      "enumNames": [
                        "United States"
                      ],
                      "default": "US"
                    }
                  }
                },
                "name": {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 255
                }
              }
            }
          },
          {
            "type": "object",
            "properties": {
              "facilityCode": {
                "type": "string"
              }
            },
            "required": [
              "facilityCode"
            ]
          }
        ]
      },
      "programs": {
        "type": "object",
        "properties": {
          "MGIB-AD Ch 30": {
            "type": "boolean",
            "default": false
          },
          "MGIB-SR Ch 1606": {
            "type": "boolean",
            "default": false
          },
          "VRE Ch 31": {
            "type": "boolean",
            "default": false
          },
          "Post-9/11 Ch 33": {
            "type": "boolean",
            "default": false
          },
          "DEA Ch 35": {
            "type": "boolean",
            "default": false
          },
          "TATU": {
            "type": "boolean",
            "default": false
          }
        }
      },
      "assistance": {
        "type": "object",
        "properties": {
          "TA": {
            "type": "boolean",
            "default": false
          },
          "TA-AGR": {
            "type": "boolean",
            "default": false
          },
          "MyCAA": {
            "type": "boolean",
            "default": false
          },
          "FFA": {
            "type": "boolean",
            "default": false
          }
        }
      }
    },
    "issue": {
      "type": "object",
      "properties": {
        "other": {
          "type": "boolean",
          "default": false
        },
        "recruiting": {
          "type": "boolean",
          "default": false
        },
        "studentLoans": {
          "type": "boolean",
          "default": false
        },
        "quality": {
          "type": "boolean",
          "default": false
        },
        "creditTransfer": {
          "type": "boolean",
          "default": false
        },
        "accreditation": {
          "type": "boolean",
          "default": false
        },
        "jobOpportunities": {
          "type": "boolean",
          "default": false
        },
        "gradePolicy": {
          "type": "boolean",
          "default": false
        },
        "refundIssues": {
          "type": "boolean",
          "default": false
        },
        "financialIssues": {
          "type": "boolean",
          "default": false
        },
        "changeInDegree": {
          "type": "boolean",
          "default": false
        },
        "transcriptRelease": {
          "type": "boolean",
          "default": false
        }
      }
    },
    "issueDescription": {
      "type": "string",
      "maxLength": 32000
    },
    "issueResolution": {
      "type": "string",
      "maxLength": 1000
    },
    "privacyAgreementAccepted": {
      "$ref": "#/definitions/privacyAgreementAccepted"
    },
    "phone": {
      "$ref": "#/definitions/usaPhone"
    },
    "serviceDateRange": {
      "$ref": "#/definitions/dateRange"
    }
  }
}
